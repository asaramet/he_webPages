<h2>Reaching ANSYS license servers from bwUniCluster through SSH tunneling.</h2>
<p>
  ANSYS packages are connected to university's FLEXlm servers through two ports: 1055 and 2325.
</p>
<p>
  Besides these 2 ports, an extra port, required by the FLEXlm deamon, should be tunneled as well - 49296
</p>
<p>
  The following command will create an SSH master control socket with the respective ports tunneled through the <kbd>comserver.hs-esslingen.de</kbd>:
</p>
<p><pre>
  ssh -MS ansys-socket -fnNT -L 2325:lizenz-ansys-kit.hs-esslingen.de:2325 \
  -L 1055:lizenz-ansys-kit.hs-esslingen.de:1055 -L \
  49296:lizenz-ansys-kit.hs-esslingen.de:49296 \
  userID@comserver.hs-esslingen.de
</pre></p>
<p>
  where, <kbd>userID</kbd> is the id of the user on <kbd>comserver.hs-esslingen.de</kbd>
</p>
<p>
  After you finish your simulations, don't forget to close the socket with:
</p>
<p><pre>
  ssh -S tunnel-socket -O exit userID@comserver.hs-esslingen.de
</pre></p>
<h2>Wrapper to run ANSYS jobs on bwUniCluster</h2>
<p>On bwUniCluster, SSH communication between nodes, which is needed to run ANSYS jobs, is blocked.</p>
<p>Therefore, don't forget to load a specific wrapper which solves this problem, with:</p>
<p><pre>
  module load system/ssh_wrapper/0.1
</pre></p>
<p>And set respective variables. In case of FLUENT, for example, they will be:</p>
<p><pre>
  export FLUENT_SSH=/opt/bwhpc/common/system/ssh_wrapper/0.1/ssh
  export FLUENT_SKIP_SSH_CHECK=1
</pre></p>
